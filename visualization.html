<!DOCTYPE html>
<html lang="en">
<canvas id="myCanvas" width="500" height="500" style="border:1px solid #000000"></canvas>

<script>
    var c = document.getElementById("myCanvas");


    function test() {
        if (!c.getContext) {
            alert("html5 is not supported in this web browser!");
            return;
        }
        var ctx = c.getContext("2d");

        var data = new Uint8ClampedArray(500 * 500 * 4);
        for (var y = 0; y < 500; y++) {
            for (var x = 0; x < 500; x++) {
                for (var i = 0; i < 4; i++) {
                    data[(x + (y * 500) * 4) + i] = 127;
                }
            }
        }

        ctx.putImageData(new ImageData(data, 500), 0, 0);
    }

    test();

</script>

</html>